@LIT_SITE_CFG_IN_HEADER@

import sys
import os

# RWTH CLAIX: force UCX such that CUDA-aware OpenMPI works
config.environment['OMPI_MCA_pml'] = "ucx"

# Inherit *all* environment variables, otherwise crashes (TODO: find out required env variables)
for envvar in os.environ:
    config.environment[envvar] = os.environ[envvar]
    continue

config.filecheck = "@CUTESTS_FILECHECK_EXEC@"
config.mpiexec="@MPIEXEC@"

# Tool specifics:
config.cucorr_mpicc="@cucorr_mpicc@"
config.cucorr_mpicxx="@cucorr_mpicxx@"
config.cucorr_interceptor="@lib_cucorr_interceptor@" 
config.cucorr_lib="@lib_cucorr_runtime@"
config.cucorr_testdir="@CUTESTS_TEST_CUCORR_DIR@"

config.cutests_build_dir="@CUTESTS_BUILD_DIR@"

# Let the main config do the real work.
config.loaded_site_config = True
lit_config.load_config(config, "@CUTESTS_PROJECT_DIR@/testsuite/lit.cfg")
